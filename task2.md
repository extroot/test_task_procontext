Для простоты обозначим автоматы:
* "Красная" - №1
* "Красная и зеленая" - №2
* "Зеленая" - №3


Рассмотрим все возможные варианты для каждого автомата:

1:
* Зеленый
* Красный и зеленый

2:
* Красный
* Зеленый

3:
* Красный
* Красный и зеленый

Решение:
1. Покупаем жвачку из автомата №2:
* Случай 1:
Выпала красная. Тогда автомат №2 - "красная". Следовательно, автомат №1 - "зеленая" (Так как только зеленые могут продаваться в №1 или №2), а автомат №3 - "Красная или зеленая".
* Случай 2:
Выпала зеленая. Тогда аналогично: автомат №2 - "зеленая". Следовательно, автомат №1 - "Красная и зеленая", а автомат №3 - "Красная".

